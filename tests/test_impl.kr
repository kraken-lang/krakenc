pub struct Vec2 {
    x: int;
    y: int;
}

fn new_vec2(x: int, y: int) -> Vec2 {
    return Vec2 { x: x, y: y };
}

impl Vec2 {
    pub fn mag_sq(self) -> int {
        return self.x * self.x + self.y * self.y;
    }

    pub fn add(self, other: Vec2) -> Vec2 {
        return Vec2 { x: self.x + other.x, y: self.y + other.y };
    }
}

fn main() -> int {
    let a = new_vec2(3, 4);
    let b = new_vec2(1, 2);
    puts(str_concat("mag_sq(3,4)=", fmt_int(Vec2_mag_sq(a))));
    let c = Vec2_add(a, b);
    puts(str_concat("add=(", str_concat(fmt_int(c.x), str_concat(",", str_concat(fmt_int(c.y), ")")))));
    return 0;
}
